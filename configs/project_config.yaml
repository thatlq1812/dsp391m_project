# Optimized Traffic Forecasting Configuration v3.0
project:
  name: traffic-forecast-optimized
  version: v3.0
  timezone: Asia/Ho_Chi_Minh
  bbox: [10.67, 106.60, 10.90, 106.84]

globals:
  area:
    mode: point_radius
    center: [106.697794, 10.772465] # Central HCMC
    radius_m: 1024 # Increased coverage
  node_spacing_m: 500 # Optimized spacing
  output_base: data_runs

data:
  parquet_dir: ./data/parquet
  json_dir: ./data
  cache_dir: ./cache

collectors:
  overpass:
    enabled: true
    url: https://overpass-api.de/api/interpreter
    query_timeout: 60 # Reduced
    cache_expiry_hours: 168 # 1 week
    area:
      mode: point_radius
      center: [106.697794, 10.772465]
      radius_m: 1024

  open_meteo:
    enabled: true
    base_url: https://api.open-meteo.com/v1/forecast
    current_params: [temperature_2m, precipitation, wind_speed_10m]
    forecast_params: [temperature_2m, precipitation, wind_speed_10m]
    horizons_min: [5, 15, 30, 60] # Reduced horizons
    cache_expiry_hours: 1
    area:
      mode: point_radius
      center: [106.697794, 10.772465]
      radius_m: 1024

  google_directions:
    enabled: true
    api_key_env: GOOGLE_MAPS_API_KEY
    base_speed_kmh: 30
    traffic_factor_min: 0.5
    traffic_factor_max: 1.5
    rate_limit_requests_per_minute: 2800
    area:
      mode: point_radius
      center: [106.697794, 10.772465]
      radius_m: 1024

api:
  title: Traffic Forecast API
  description: API serving node-level traffic forecasts
  predictions_file: data/predictions.json
  port: 8000
